b4w.register("Contest",function(W,g){function z(a,b){b?(a.oncontextmenu=function(a){a.preventDefault();a.stopPropagation();return!1},w.set("canvas_resolution_factor",2),A.set_camera_smooth_factor(1.2),document.getElementById("preloader_cont").style.visibility="visible",ga.load(ha+"Contest.json",ia,ja)):console.log("b4w init failure")}function ja(a){var b=document.getElementById("prelod_dynamic_path"),d=b.nextElementSibling;b.style.width=a+"%";d.innerHTML="\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430: "+
a+"%";100==a&&(document.getElementById("preloader_cont").style.visibility="hidden")}function ia(g,c){if(c){A.enable_camera_controls();var d=t.get_object_by_name("Wheel"),f=t.get_object_by_name("Wheel_02"),n=t.get_object_by_name("floor"),l=t.get_object_by_name("helm"),m=t.get_object_by_name("main"),k=document.getElementById("main_canvas_container");ka(k);var p=document.createElement("div");p.setAttribute("id","logo");var w=k.offsetHeight/5.5,e=k.offsetWidth/7,r=e/2;p.style.cssText="opacity: 0; width:"+
e+"px; height: "+r+"px; margin-top: "+w+"px; margin-left:"+k.offsetWidth/7*3+"px; position: absolute;";p.innerHTML=p.innerHTML+'<img style="position: absolute;" height='+r+" width="+e+' src="images/logo.svg">';k.appendChild(p);e=document.createElement("div");e.setAttribute("id","mainText");var r=k.offsetWidth/8*5.7,z=k.offsetHeight/4,h=k.offsetWidth/5,v=k.offsetHeight/3,p=Math.round(h/25);e.style.cssText="opacity: 0; width:"+h+"px; height: "+v+"px; margin-top: "+z+"px; margin-left:"+r+"px; position: absolute;";
e.innerHTML=e.innerHTML+'<p style="font-style: italic; color: #EBEBFF; font-size:'+1.065*p+"pt; text-align: right; font-family: 'Rubik', sans-serif;\"> \u00ab\u0420\u043e\u0441\u043a\u043e\u0448\u043d\u044b\u0439 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044c, \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0439 \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0436\u0438\u0442\u0435\u043b\u044f \u0410\u043c\u0435\u0440\u0438\u043a\u0438\u00bb</p>";e.innerHTML=e.innerHTML+
'<p style="font-style: italic; color: #EBEBFF; font-size:'+p/1.5+"pt; text-align: right; font-family: 'Rubik', sans-serif;\">\u042d\u0434 \u041a\u043e\u0443\u043b, \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a</p><br>";e.innerHTML=e.innerHTML+'<p style="font-size:'+p/1.2+"pt; text-align: justify; font-family: 'Rubik', sans-serif;\">Impala 1958 \u0433\u043e\u0434\u0430 \u0441\u0442\u0430\u043b\u0430 \u043f\u0435\u0440\u0432\u044b\u043c \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0435\u043c \u043b\u0435\u0433\u0435\u043d\u0434\u0430\u0440\u043d\u043e\u0439 \u0441\u0435\u0440\u0438\u0438, \u043d\u043e\u0432\u044b\u0435 \u043f\u043e\u043a\u043e\u043b\u0435\u043d\u0438\u044f \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u0432\u044b\u043f\u0443\u0441\u043a\u0430\u044e\u0442\u0441\u044f \u043f\u043e \u0441\u0435\u0439 \u0434\u0435\u043d\u044c.</p>";
e.innerHTML=e.innerHTML+'<p style="font-size:'+p/1.2+"pt; text-align: justify; font-family: 'Rubik', sans-serif;\">\u041d\u0435\u043f\u043e\u0432\u0442\u043e\u0440\u0438\u043c\u044b\u0439 \u0441\u0442\u0438\u043b\u044c 50-\u0445, \u0440\u043e\u0441\u043a\u043e\u0448\u043d\u044b\u0439 \u0441\u0430\u043b\u043e\u043d \u0438 315 \u043b\u043e\u0448\u0430\u0434\u0435\u0439 \u043f\u043e\u0434 \u043a\u0430\u043f\u043e\u0442\u043e\u043c (\u0431\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u044f 5,7-\u043b\u0438\u0442\u0440\u043e\u0432\u043e\u043c\u0443 \u0434\u0432\u0438\u0433\u0430\u0442\u0435\u043b\u044e) \u0441\u0434\u0435\u043b\u0430\u043b\u0438 \u0438\u043c\u043f\u0430\u043b\u0443 \u0441\u0430\u043c\u044b\u043c \u0434\u043e\u0440\u043e\u0433\u0438\u043c \u0438 \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u043c \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0435\u043c \u043c\u043e\u0434\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0440\u044f\u0434\u0430 \u0437\u0430\u0432\u043e\u0434\u0430.</p>";
k.appendChild(e);e=document.createElement("div");e.setAttribute("id","changeColors");var B=k.offsetHeight/4,r=k.offsetHeight/2;e.style.cssText="opacity: 0; width:"+k.offsetWidth/7*.9+"px; height: "+r+"px; margin-top: "+B+"px; margin-left:"+k.offsetWidth/6+"px; color: #EBEBFF; position: absolute;";h=[];v=r/15;h[0]='<div class="ColorValue" id="OnyxBlack" style="background-color: #000000;';h[1]='<div class="ColorValue" id="GlenGreen" style="background-color: #8EC2BA;';h[2]='<div class="ColorValue" id="ForestGreen" style="background-color: #365654;';
h[3]='<div class="ColorValue" id="CashemereBlue" style="background-color: #5F95BF;';h[4]='<div class="ColorValue" id="FathomBlue" style="background-color: #284267;';h[5]='<div class="ColorValue" id="TropicTurquoise" style="background-color: #70A6BC;';h[6]='<div class="ColorValue" id="AegeanTurquoise" style="background-color: #2F4E5C;';h[7]='<div class="ColorValue" id="SilverBlue" style="background-color: #8197AA;';h[8]='<div class="ColorValue" id="AnniversaryGold" style="background-color: #937C36;';
h[9]='<div class="ColorValue" id="SierraGold" style="background-color: #934131;';h[10]='<div class="ColorValue" id="ClayCoral" style="background-color: #90625B;';h[11]='<div class="ColorValue" id="RioRed" style="background-color: #C2372D;';h[12]='<div class="ColorValue" id="ColonialCream" style="background-color: #DDDF9A;';h[13]='<div class="ColorValue" id="SnowcrestWhite" style="background-color: #FCFFEC;';h[14]='<div class="ColorValue" id="HoneyBeige" style="background-color: #F9ECC5;';var W='id="OnyxBlackT">Onyx Black</p>;id="GlenGreenT">Glen Green</p>;id="ForestGreen">Forest Green</p>;<p id="CashemereBlue">Cashemere Blue</p>;<p id="FathomBlue">Fathom Blue</p>;<p id="TropicTurquoise">Tropic Turquoise</p>;<p id="AegeanTurquoise">Aegean Turquoise</p>;<p id="SilverBlue">Silver Blue</p>;<p id="AnniversaryGold">Anniversary Gold</p>;<p id="SierraGold">Sierra Gold</p>;<p id="ClayCoral">Clay Coral</p>;<p id="RioRed">Rio Red</p>;<p id="ColonialCream">Colonial Cream</p>;<p id="SnowcrestWhite">Snowcrest White</p>;<p id="HoneyBeige">Honey Beige</p>'.split(";");
e.innerHTML=e.innerHTML+'<span id="colorTitle" style="font-size: '+1.5*p+"pt; margin-top: -"+r/15*1.25+'pt;">\u0417\u0430\u0432\u043e\u0434\u0441\u043a\u0438\u0435 \u0446\u0432\u0435\u0442\u0430:</span>';for(var x=0;15>x;x++)e.innerHTML=e.innerHTML+'<div id="colorBtn_'+x+'" style="height:'+r/15+'px;">'+h[x]+"position: absolute; height:"+.7*v+"px; width:"+2.13*v+"px; margin-left:"+.064*v+'px;"></div><img style="position: absolute;" id=color'+x+' src="images/color_frame.png" height='+r/20+'><p  style="position: absolute; font-size:'+
p/1.2+"pt; margin-left:"+3*v+"px; margin-top:"+.1*v+'px" '+W[x]+"</div>";k.appendChild(e);var C=[0,0,0,0,0,0,0,0,0,0,0,0,.068,.068,.068],D=[.077,.147,.135,.081,.156,.143,.076,.487,.674,0,.029,.274,.346,.38,.372],E=[.037,.093,.089,.037,.093,.089,.081,.361,.393,.057,.147,.14,.317,.388,.417],F=[.054,.137,.233,.044,.11,.186,.158,.38,.165,.085,.163,.149,.288,.395,.462],G=[.036,.098,.253,.021,.054,.136,.529,.674,0,.05,.14,.367,.254,.538,.46],H=[.061,.137,.179,.056,.125,.163,.359,.711,.651,.13,.253,.231,
.331,.417,.477],I=[.04,.109,.155,.023,.06,.084,.363,.729,.663,.037,.068,.063,.331,.417,.477],J=[.026,.034,.043,.109,.152,.196,.013,.402,.021,.056,.082,.107,.301,.379,.434],K=[.119,.084,.017,.073,.052,.012,.729,.46,.109,.292,.202,.037,.523,.505,.456],L=[.223,.042,.025,.047,.011,.007,.604,.354,.002,.292,.053,.031,.367,.314,.264],M=[.113,.052,.045,.095,.044,.038,.621,.299,.126,.279,.122,.105,.434,.42,.379],N=[.434,.006,0,.233,0,.007,.287,0,1,.141,0,.003,.787,.323,.212],O=[.13,.133,.062,.118,.12,.056,
.141,.42,.257,.087,.089,.042,.567,.57,.423],P=[.092,.095,.081,.058,.059,.051,.266,.451,.492,.334,.342,.289,.504,.507,.377],Q=[.196,.175,.119,.084,.075,.052,.171,.152,.104,.107,.095,.066,.604,.535,.358],Z=t.get_object_by_name("AngleObject"),aa=0,y=0,R=0,S=t.get_object_by_name("arrow"),u=t.get_active_camera(),k=X.create_motion_sensor(u,.001,.001);la.append_track(Z,u);var T=0,U=0;document.createElement("div");var V=0;b.apply(d,"WheelRotate",b.SLOT_0);b.set_behavior(d,b.AB_CYCLIC,b.SLOT_0);b.play(d,b.SLOT_0);
b.set_speed(d,.001,b.SLOT_0);b.apply(f,"WheelRotate",b.SLOT_0);b.set_behavior(f,b.AB_CYCLIC,b.SLOT_0);b.play(f,b.SLOT_0);b.set_speed(f,.001,b.SLOT_0);b.set_speed(n,.001);b.apply(S,"speed",b.SLOT_0);X.create_sensor_manifold(u,"CAM_MOVE",X.CT_POSITIVE,[k],function(a){return a[0]},function(a,c,e){aa=ma.get_rotation(Z);y=6*Math.pow(aa[2],1.2);R=y/3.6*100;100>=R?b.set_frame(S,R/1.1,b.SLOT_0):b.set_frame(S,100/1.1,b.SLOT_0);0>R&&b.set_frame(S,1,b.SLOT_0);T=q.get_translation(u);0==b.is_play(u)&&(U=q.target_get_pivot(u),
0<U[1]&&(U[1]=0,q.target_set_trans_pivot(u,U)));0<y&&(b.set_speed(n,y),b.set_speed(d,y),b.set_speed(f,y));-10<=T[1]&&0==b.is_play(u)?(V=1- -T[1]/10,document.getElementById("changeColors").style.opacity=V,document.getElementById("changeColors").style.marginTop=B+"px",document.getElementById("logo").style.opacity=V,document.getElementById("logo").style.marginTop=w+"px",document.getElementById("mainText").style.opacity=V,document.getElementById("mainText").style.marginTop=z+"px"):(document.getElementById("changeColors").style.marginTop=
"-4000px",document.getElementById("mainText").style.marginTop="-4000px",document.getElementById("logo").style.marginTop="-4000px");-25<T[0]&&(document.getElementById("changeColors").style.marginTop="-4000px",document.getElementById("mainText").style.marginTop="-4000px",document.getElementById("logo").style.marginTop="-4000px")});document.getElementById("colorBtn_0").onclick=function(){a(m,C);a(d,C,!0);a(f,C,!0);a(l,C)};document.getElementById("colorBtn_1").onclick=function(){a(m,D);a(d,D,!0);a(f,
D,!0);a(l,D)};document.getElementById("colorBtn_2").onclick=function(){a(m,E);a(d,E,!0);a(f,E,!0);a(l,E)};document.getElementById("colorBtn_3").onclick=function(){a(m,F);a(d,F,!0);a(f,F,!0);a(l,F)};document.getElementById("colorBtn_4").onclick=function(){a(m,G);a(d,G,!0);a(f,G,!0);a(l,G)};document.getElementById("colorBtn_5").onclick=function(){a(m,H);a(d,H,!0);a(f,H,!0);a(l,H)};document.getElementById("colorBtn_6").onclick=function(){a(m,I);a(d,I,!0);a(f,I,!0);a(l,I)};document.getElementById("colorBtn_7").onclick=
function(){a(m,J);a(d,J,!0);a(f,J,!0);a(l,J)};document.getElementById("colorBtn_8").onclick=function(){a(m,K);a(d,K,!0);a(f,K,!0);a(l,K)};document.getElementById("colorBtn_9").onclick=function(){a(m,L);a(d,L,!0);a(f,L,!0);a(l,L)};document.getElementById("colorBtn_10").onclick=function(){a(m,M);a(d,M,!0);a(f,M,!0);a(l,M)};document.getElementById("colorBtn_11").onclick=function(){a(m,N);a(d,N,!0);a(f,N,!0);a(l,N)};document.getElementById("colorBtn_12").onclick=function(){a(m,O);a(d,O,!0);a(f,O,!0);
a(l,O)};document.getElementById("colorBtn_13").onclick=function(){a(m,P);a(d,P,!0);a(f,P,!0);a(l,P)};document.getElementById("colorBtn_14").onclick=function(){a(m,Q);a(d,Q,!0);a(f,Q,!0);a(l,Q)};document.getElementById("full_scrn").onclick=function(){0==Y?(A.request_fullscreen(document.body),Y=!0):(A.exit_fullscreen(),Y=!1,CreateInterface())};document.getElementById("shot").onclick=function(){na.shot()};document.getElementById("movie").onclick=function(){var a=u,a=t.get_active_camera();if(0==b.is_play(a)){ba=
q.get_translation(a);ca=q.target_get_pivot(a);da=q.target_get_horizontal_limits(a);ea=q.target_get_vertical_limits(a);fa=q.target_get_distance_limits(a);var c=new Float32Array([-14.5,-7,2.6]),d=new Float32Array([0,0,0]);q.static_setup(a,{pos:c,look_at:d});q.correct_up(a,oa.AXIS_Z,!0);b.apply(a,"movie",b.SLOT_0);b.get_anim_length(a);b.set_behavior(a,b.AB_CYCLIC,b.SLOT_0);b.play(a,b.SLOT_0);b.set_frame(a,200*(7*Math.random()+1),b.SLOT_0)}else b.stop(a,b.SLOT_0),b.remove_slot_animation(a),q.target_setup(a,
{pos:ba,pivot:ca,horiz_rot_lim:da,vert_rot_lim:ea,dist_lim:fa})}}else console.log("b4w load failure")}function a(a,c,d){n.set_nodemat_rgb(a,["Car_paint","Color_main_new"],c[0],c[1],c[2]);n.set_nodemat_rgb(a,["Car_paint","Color_add_new"],c[3],c[4],c[5]);n.set_nodemat_rgb(a,["Car_paint","Color_flack_new"],c[6],c[7],c[8]);n.set_nodemat_rgb(a,["Car_paint","Color_reflect_01_new"],c[9],c[10],c[11]);n.set_nodemat_rgb(a,["Car_paint","Color_reflect_02_new"],c[12],c[13],c[14]);b.apply(a,"ChangeColor",b.SLOT_0);
b.set_behavior(a,b.AB_FINISH_STOP);b.play(a,function(){n.set_nodemat_rgb(a,["Car_paint","Color_main"],c[0],c[1],c[2]);n.set_nodemat_rgb(a,["Car_paint","Color_add"],c[3],c[4],c[5]);n.set_nodemat_rgb(a,["Car_paint","Color_flack"],c[6],c[7],c[8]);n.set_nodemat_rgb(a,["Car_paint","Color_reflect_01"],c[9],c[10],c[11]);n.set_nodemat_rgb(a,["Car_paint","Color_reflect_02"],c[12],c[13],c[14]);1==d&&(b.apply(a,"WheelRotate",b.SLOT_0),b.set_behavior(a,b.AB_CYCLIC,b.SLOT_0),b.play(a,b.SLOT_0))},b.SLOT_0)}function ka(a){var b=
document.createElement("div");b.setAttribute("id","icons");var d=a.offsetHeight/8,f=3*d;b.style.cssText="width:"+f+"px; height: "+d+"px; margin-top: "+6.8*d+"px; margin-left:"+(a.offsetWidth/2-f/2)+"px; position: absolute;";b.innerHTML=b.innerHTML+'<img class="icon" id="shot" height='+d+' src="images/icon_photo.png">';b.innerHTML=b.innerHTML+'<img class="icon" id="movie" height='+d+' src="images/icon_camera.png">';b.innerHTML=b.innerHTML+'<img class="icon" id="full_scrn" height='+d+' src="images/icon_tv.png">';
a.appendChild(b)}var la=g("constraints"),A=g("app"),ga=g("data"),w=g("config");g("objects");var ma=g("transform"),b=g("animation"),t=g("scenes"),X=g("controls");g("time");var q=g("camera");g("camera_anim");g("textures");var n=g("material"),na=g("screenshooter");g("input");var oa=g("util");g("main");g("debug");g("preloader");var Y=!1,ba,ca,da,ea,fa,B="DEBUG"==g("version").type(),ha=w.get_std_assets_path()+"Contest/";W.init=function(){A.init({canvas_container_id:"main_canvas_container",callback:z,show_fps:B,
console_verbose:B,autoresize:!0,quality:w.P_AUTO,callback:z})}});b4w.require("Contest").init();
